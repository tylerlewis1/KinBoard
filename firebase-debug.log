[debug] [2026-02-12T02:23:34.272Z] ----------------------------------------------------------------------
[debug] [2026-02-12T02:23:34.277Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only functions
[debug] [2026-02-12T02:23:34.277Z] CLI Version:   15.5.1
[debug] [2026-02-12T02:23:34.277Z] Platform:      darwin
[debug] [2026-02-12T02:23:34.277Z] Node Version:  v24.13.0
[debug] [2026-02-12T02:23:34.277Z] Time:          Wed Feb 11 2026 20:23:34 GMT-0600 (Central Standard Time)
[debug] [2026-02-12T02:23:34.277Z] ----------------------------------------------------------------------
[debug] 
[debug] [2026-02-12T02:23:34.944Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2026-02-12T02:23:34.944Z] > authorizing via signed-in user (tglewis247@gmail.com)
[debug] [2026-02-12T02:23:34.944Z] [iam] checking project kin-9d03d for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2026-02-12T02:23:34.945Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:34.945Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:34.945Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions [none]
[debug] [2026-02-12T02:23:34.945Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions  x-goog-user-project=kin-9d03d
[debug] [2026-02-12T02:23:34.946Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-02-12T02:23:35.242Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions 200
[debug] [2026-02-12T02:23:35.243Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-02-12T02:23:35.243Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:35.243Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:35.243Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2026-02-12T02:23:35.244Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2026-02-12T02:23:35.400Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions 404
[debug] [2026-02-12T02:23:35.400Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions {"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}}
[debug] [2026-02-12T02:23:35.401Z] [functions] service account IAM check errored, deploy may fail: Request to https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions had HTTP Error: 404, Unknown service account {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions had HTTP Error: 404, Unknown service account","status":404}
[info] 
[info] === Deploying to 'kin-9d03d'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2026-02-12T02:23:36.527Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:36.527Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:36.527Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d [none]
[debug] [2026-02-12T02:23:36.621Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d 200
[debug] [2026-02-12T02:23:36.622Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d {"projectNumber":"462828528225","projectId":"kin-9d03d","lifecycleState":"ACTIVE","name":"KinBoard","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2026-01-28T17:47:33.256880Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2026-02-12T02:23:36.623Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:36.623Z] Checked if tokens are valid: true, expires at: 1770866249149
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2026-02-12T02:23:36.623Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:36.623Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:36.623Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/kin-9d03d/services/cloudbuild.googleapis.com [none]
[debug] [2026-02-12T02:23:36.623Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/kin-9d03d/services/cloudbuild.googleapis.com  x-goog-user-project=kin-9d03d
[debug] [2026-02-12T02:23:36.624Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/kin-9d03d/services/artifactregistry.googleapis.com [none]
[debug] [2026-02-12T02:23:36.624Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/kin-9d03d/services/artifactregistry.googleapis.com  x-goog-user-project=kin-9d03d
[debug] [2026-02-12T02:23:36.966Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/kin-9d03d/services/cloudbuild.googleapis.com 200
[debug] [2026-02-12T02:23:36.966Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/kin-9d03d/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2026-02-12T02:23:36.982Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/kin-9d03d/services/artifactregistry.googleapis.com 200
[debug] [2026-02-12T02:23:36.982Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/kin-9d03d/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2026-02-12T02:23:36.988Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:36.988Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:36.988Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig [none]
[debug] [2026-02-12T02:23:37.480Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig 200
[debug] [2026-02-12T02:23:37.480Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig {"projectId":"kin-9d03d","storageBucket":"kin-9d03d.firebasestorage.app"}
[debug] [2026-02-12T02:23:37.483Z] Validating nodejs source
[warn] ⚠  functions: Couldn't find firebase-functions package in your source code. Have you run 'npm install'? 
[debug] [2026-02-12T02:23:37.485Z] getFunctionsSDKVersion encountered error: Cannot find module 'firebase-functions'
Require stack:
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/versioning.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js
- /usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js {"code":"MODULE_NOT_FOUND","requireStack":["/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/versioning.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js","/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js","/usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js","/usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js","/usr/local/lib/node_modules/firebase-tools/lib/commands/index.js","/usr/local/lib/node_modules/firebase-tools/lib/index.js","/usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js","/usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js"]}
[debug] [2026-02-12T02:23:37.487Z] checkFunctionsSDKVersion encountered error: Invalid Version:  {}
[debug] [2026-02-12T02:23:37.488Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "24"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^13.6.0",
    "firebase-functions": "^7.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.4.1"
  },
  "private": true
}
[debug] [2026-02-12T02:23:37.488Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2026-02-12T02:23:37.489Z] Could not parse firebase-functions version '' into semver.
[debug] [2026-02-12T02:23:37.489Z] Could not find functions.yaml. Must use http discovery
[debug] [2026-02-12T02:23:37.743Z] Error: Cannot find module 'firebase-functions'
Require stack:
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js
- /usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1421:15)
    at require.resolve (node:internal/modules/helpers:163:19)
    at Delegate.findFunctionsBinary (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:101:33)
    at Delegate.spawnFunctionsProcess (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:131:30)
    at Delegate.serveAdmin (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:152:35)
    at Delegate.discoverBuild (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:192:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async loadCodebases (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js:331:33)
    at async prepare (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js:69:24)
    at async chain (/usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js:43:9)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2026-02-12T02:23:52.279Z] ----------------------------------------------------------------------
[debug] [2026-02-12T02:23:52.281Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only functions
[debug] [2026-02-12T02:23:52.281Z] CLI Version:   15.5.1
[debug] [2026-02-12T02:23:52.281Z] Platform:      darwin
[debug] [2026-02-12T02:23:52.281Z] Node Version:  v24.13.0
[debug] [2026-02-12T02:23:52.281Z] Time:          Wed Feb 11 2026 20:23:52 GMT-0600 (Central Standard Time)
[debug] [2026-02-12T02:23:52.281Z] ----------------------------------------------------------------------
[debug] 
[debug] [2026-02-12T02:23:52.892Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2026-02-12T02:23:52.892Z] > authorizing via signed-in user (tglewis247@gmail.com)
[debug] [2026-02-12T02:23:52.892Z] [iam] checking project kin-9d03d for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2026-02-12T02:23:52.892Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:52.893Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:52.893Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions [none]
[debug] [2026-02-12T02:23:52.893Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions  x-goog-user-project=kin-9d03d
[debug] [2026-02-12T02:23:52.893Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-02-12T02:23:53.184Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions 200
[debug] [2026-02-12T02:23:53.184Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-02-12T02:23:53.184Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:53.184Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:53.184Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2026-02-12T02:23:53.184Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2026-02-12T02:23:53.424Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions 404
[debug] [2026-02-12T02:23:53.424Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions {"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}}
[debug] [2026-02-12T02:23:53.425Z] [functions] service account IAM check errored, deploy may fail: Request to https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions had HTTP Error: 404, Unknown service account {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions had HTTP Error: 404, Unknown service account","status":404}
[info] 
[info] === Deploying to 'kin-9d03d'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2026-02-12T02:23:54.402Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:54.402Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:54.402Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d [none]
[debug] [2026-02-12T02:23:54.486Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d 200
[debug] [2026-02-12T02:23:54.486Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d {"projectNumber":"462828528225","projectId":"kin-9d03d","lifecycleState":"ACTIVE","name":"KinBoard","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2026-01-28T17:47:33.256880Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2026-02-12T02:23:54.487Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:54.487Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:23:54.487Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig [none]
[debug] [2026-02-12T02:23:54.865Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig 200
[debug] [2026-02-12T02:23:54.866Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig {"projectId":"kin-9d03d","storageBucket":"kin-9d03d.firebasestorage.app"}
[debug] [2026-02-12T02:23:54.868Z] Validating nodejs source
[warn] ⚠  functions: Couldn't find firebase-functions package in your source code. Have you run 'npm install'? 
[debug] [2026-02-12T02:23:54.869Z] getFunctionsSDKVersion encountered error: Cannot find module 'firebase-functions'
Require stack:
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/versioning.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js
- /usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js {"code":"MODULE_NOT_FOUND","requireStack":["/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/versioning.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js","/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js","/usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js","/usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js","/usr/local/lib/node_modules/firebase-tools/lib/commands/index.js","/usr/local/lib/node_modules/firebase-tools/lib/index.js","/usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js","/usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js"]}
[debug] [2026-02-12T02:23:54.870Z] checkFunctionsSDKVersion encountered error: Invalid Version:  {}
[debug] [2026-02-12T02:23:54.870Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "24"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^13.6.0",
    "firebase-functions": "^7.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.4.1"
  },
  "private": true
}
[debug] [2026-02-12T02:23:54.871Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2026-02-12T02:23:54.872Z] Could not parse firebase-functions version '' into semver.
[debug] [2026-02-12T02:23:54.873Z] Could not find functions.yaml. Must use http discovery
[debug] [2026-02-12T02:23:55.021Z] Error: Cannot find module 'firebase-functions'
Require stack:
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js
- /usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1421:15)
    at require.resolve (node:internal/modules/helpers:163:19)
    at Delegate.findFunctionsBinary (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:101:33)
    at Delegate.spawnFunctionsProcess (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:131:30)
    at Delegate.serveAdmin (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:152:35)
    at Delegate.discoverBuild (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:192:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async loadCodebases (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js:331:33)
    at async prepare (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js:69:24)
    at async chain (/usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js:43:9)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2026-02-12T02:24:59.333Z] ----------------------------------------------------------------------
[debug] [2026-02-12T02:24:59.335Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only functions
[debug] [2026-02-12T02:24:59.335Z] CLI Version:   15.5.1
[debug] [2026-02-12T02:24:59.335Z] Platform:      darwin
[debug] [2026-02-12T02:24:59.336Z] Node Version:  v24.13.0
[debug] [2026-02-12T02:24:59.336Z] Time:          Wed Feb 11 2026 20:24:59 GMT-0600 (Central Standard Time)
[debug] [2026-02-12T02:24:59.336Z] ----------------------------------------------------------------------
[debug] 
[debug] [2026-02-12T02:25:00.003Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2026-02-12T02:25:00.003Z] > authorizing via signed-in user (tglewis247@gmail.com)
[debug] [2026-02-12T02:25:00.003Z] [iam] checking project kin-9d03d for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2026-02-12T02:25:00.003Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:25:00.003Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:25:00.004Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions [none]
[debug] [2026-02-12T02:25:00.004Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions  x-goog-user-project=kin-9d03d
[debug] [2026-02-12T02:25:00.004Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-02-12T02:25:00.341Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions 200
[debug] [2026-02-12T02:25:00.342Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-02-12T02:25:00.342Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:25:00.342Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:25:00.342Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2026-02-12T02:25:00.342Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2026-02-12T02:25:00.728Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions 404
[debug] [2026-02-12T02:25:00.728Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions {"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}}
[debug] [2026-02-12T02:25:00.728Z] [functions] service account IAM check errored, deploy may fail: Request to https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions had HTTP Error: 404, Unknown service account {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions had HTTP Error: 404, Unknown service account","status":404}
[info] 
[info] === Deploying to 'kin-9d03d'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2026-02-12T02:25:01.774Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:25:01.774Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:25:01.774Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d [none]
[debug] [2026-02-12T02:25:01.858Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d 200
[debug] [2026-02-12T02:25:01.858Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d {"projectNumber":"462828528225","projectId":"kin-9d03d","lifecycleState":"ACTIVE","name":"KinBoard","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2026-01-28T17:47:33.256880Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2026-02-12T02:25:01.859Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:25:01.859Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:25:01.859Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig [none]
[debug] [2026-02-12T02:25:02.503Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig 200
[debug] [2026-02-12T02:25:02.503Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig {"projectId":"kin-9d03d","storageBucket":"kin-9d03d.firebasestorage.app"}
[debug] [2026-02-12T02:25:02.505Z] Validating nodejs source
[warn] ⚠  functions: Couldn't find firebase-functions package in your source code. Have you run 'npm install'? 
[debug] [2026-02-12T02:25:02.507Z] getFunctionsSDKVersion encountered error: Cannot find module 'firebase-functions'
Require stack:
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/versioning.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js
- /usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js {"code":"MODULE_NOT_FOUND","requireStack":["/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/versioning.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js","/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js","/usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js","/usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js","/usr/local/lib/node_modules/firebase-tools/lib/commands/index.js","/usr/local/lib/node_modules/firebase-tools/lib/index.js","/usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js","/usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js"]}
[debug] [2026-02-12T02:25:02.508Z] checkFunctionsSDKVersion encountered error: Invalid Version:  {}
[debug] [2026-02-12T02:25:02.508Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "24"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^13.6.0",
    "firebase-functions": "^7.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.4.1"
  },
  "private": true
}
[debug] [2026-02-12T02:25:02.508Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2026-02-12T02:25:02.509Z] Could not parse firebase-functions version '' into semver.
[debug] [2026-02-12T02:25:02.509Z] Could not find functions.yaml. Must use http discovery
[debug] [2026-02-12T02:25:02.668Z] Error: Cannot find module 'firebase-functions'
Require stack:
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js
- /usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1421:15)
    at require.resolve (node:internal/modules/helpers:163:19)
    at Delegate.findFunctionsBinary (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:101:33)
    at Delegate.spawnFunctionsProcess (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:131:30)
    at Delegate.serveAdmin (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:152:35)
    at Delegate.discoverBuild (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:192:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async loadCodebases (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js:331:33)
    at async prepare (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js:69:24)
    at async chain (/usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js:43:9)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2026-02-12T02:26:01.214Z] ----------------------------------------------------------------------
[debug] [2026-02-12T02:26:01.216Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy
[debug] [2026-02-12T02:26:01.216Z] CLI Version:   15.5.1
[debug] [2026-02-12T02:26:01.216Z] Platform:      darwin
[debug] [2026-02-12T02:26:01.216Z] Node Version:  v24.13.0
[debug] [2026-02-12T02:26:01.216Z] Time:          Wed Feb 11 2026 20:26:01 GMT-0600 (Central Standard Time)
[debug] [2026-02-12T02:26:01.216Z] ----------------------------------------------------------------------
[debug] 
[debug] [2026-02-12T02:26:01.884Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2026-02-12T02:26:01.884Z] > authorizing via signed-in user (tglewis247@gmail.com)
[debug] [2026-02-12T02:26:01.884Z] [iam] checking project kin-9d03d for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2026-02-12T02:26:01.885Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:26:01.885Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:26:01.885Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions [none]
[debug] [2026-02-12T02:26:01.885Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions  x-goog-user-project=kin-9d03d
[debug] [2026-02-12T02:26:01.885Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-02-12T02:26:02.350Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions 200
[debug] [2026-02-12T02:26:02.350Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-02-12T02:26:02.351Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:26:02.351Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:26:02.351Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2026-02-12T02:26:02.351Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2026-02-12T02:26:02.557Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions 404
[debug] [2026-02-12T02:26:02.557Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions {"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}}
[debug] [2026-02-12T02:26:02.558Z] [functions] service account IAM check errored, deploy may fail: Request to https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions had HTTP Error: 404, Unknown service account {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions had HTTP Error: 404, Unknown service account","status":404}
[info] 
[info] === Deploying to 'kin-9d03d'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2026-02-12T02:26:03.591Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:26:03.591Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:26:03.591Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d [none]
[debug] [2026-02-12T02:26:03.681Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d 200
[debug] [2026-02-12T02:26:03.681Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d {"projectNumber":"462828528225","projectId":"kin-9d03d","lifecycleState":"ACTIVE","name":"KinBoard","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2026-01-28T17:47:33.256880Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2026-02-12T02:26:03.683Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:26:03.683Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:26:03.683Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig [none]
[debug] [2026-02-12T02:26:04.169Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig 200
[debug] [2026-02-12T02:26:04.169Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig {"projectId":"kin-9d03d","storageBucket":"kin-9d03d.firebasestorage.app"}
[debug] [2026-02-12T02:26:04.171Z] Validating nodejs source
[warn] ⚠  functions: Couldn't find firebase-functions package in your source code. Have you run 'npm install'? 
[debug] [2026-02-12T02:26:04.172Z] getFunctionsSDKVersion encountered error: Cannot find module 'firebase-functions'
Require stack:
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/versioning.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js
- /usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js {"code":"MODULE_NOT_FOUND","requireStack":["/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/versioning.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js","/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js","/usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js","/usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js","/usr/local/lib/node_modules/firebase-tools/lib/commands/index.js","/usr/local/lib/node_modules/firebase-tools/lib/index.js","/usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js","/usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js"]}
[debug] [2026-02-12T02:26:04.173Z] checkFunctionsSDKVersion encountered error: Invalid Version:  {}
[debug] [2026-02-12T02:26:04.174Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "24"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^13.6.0",
    "firebase-functions": "^7.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.4.1"
  },
  "private": true
}
[debug] [2026-02-12T02:26:04.175Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2026-02-12T02:26:04.175Z] Could not parse firebase-functions version '' into semver.
[debug] [2026-02-12T02:26:04.176Z] Could not find functions.yaml. Must use http discovery
[debug] [2026-02-12T02:26:04.371Z] Error: Cannot find module 'firebase-functions'
Require stack:
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js
- /usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1421:15)
    at require.resolve (node:internal/modules/helpers:163:19)
    at Delegate.findFunctionsBinary (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:101:33)
    at Delegate.spawnFunctionsProcess (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:131:30)
    at Delegate.serveAdmin (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:152:35)
    at Delegate.discoverBuild (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:192:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async loadCodebases (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js:331:33)
    at async prepare (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js:69:24)
    at async chain (/usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js:43:9)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2026-02-12T02:33:55.971Z] ----------------------------------------------------------------------
[debug] [2026-02-12T02:33:55.977Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only functions
[debug] [2026-02-12T02:33:55.977Z] CLI Version:   15.5.1
[debug] [2026-02-12T02:33:55.977Z] Platform:      darwin
[debug] [2026-02-12T02:33:55.977Z] Node Version:  v24.13.0
[debug] [2026-02-12T02:33:55.977Z] Time:          Wed Feb 11 2026 20:33:55 GMT-0600 (Central Standard Time)
[debug] [2026-02-12T02:33:55.977Z] ----------------------------------------------------------------------
[debug] 
[debug] [2026-02-12T02:33:56.647Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2026-02-12T02:33:56.647Z] > authorizing via signed-in user (tglewis247@gmail.com)
[debug] [2026-02-12T02:33:56.647Z] [iam] checking project kin-9d03d for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2026-02-12T02:33:56.648Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:33:56.648Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:33:56.649Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions [none]
[debug] [2026-02-12T02:33:56.649Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions  x-goog-user-project=kin-9d03d
[debug] [2026-02-12T02:33:56.649Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-02-12T02:33:57.333Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions 200
[debug] [2026-02-12T02:33:57.333Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-02-12T02:33:57.333Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:33:57.333Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:33:57.333Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2026-02-12T02:33:57.333Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2026-02-12T02:33:57.842Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions 404
[debug] [2026-02-12T02:33:57.843Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions {"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}}
[debug] [2026-02-12T02:33:57.843Z] [functions] service account IAM check errored, deploy may fail: Request to https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions had HTTP Error: 404, Unknown service account {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions had HTTP Error: 404, Unknown service account","status":404}
[info] 
[info] === Deploying to 'kin-9d03d'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2026-02-12T02:33:58.969Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:33:58.969Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:33:58.969Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d [none]
[debug] [2026-02-12T02:33:59.081Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d 200
[debug] [2026-02-12T02:33:59.081Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d {"projectNumber":"462828528225","projectId":"kin-9d03d","lifecycleState":"ACTIVE","name":"KinBoard","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2026-01-28T17:47:33.256880Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2026-02-12T02:33:59.083Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:33:59.083Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:33:59.083Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig [none]
[debug] [2026-02-12T02:33:59.870Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig 200
[debug] [2026-02-12T02:33:59.870Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig {"projectId":"kin-9d03d","storageBucket":"kin-9d03d.firebasestorage.app"}
[debug] [2026-02-12T02:33:59.872Z] Validating nodejs source
[warn] ⚠  functions: Couldn't find firebase-functions package in your source code. Have you run 'npm install'? 
[debug] [2026-02-12T02:33:59.874Z] getFunctionsSDKVersion encountered error: Cannot find module 'firebase-functions'
Require stack:
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/versioning.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js
- /usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js {"code":"MODULE_NOT_FOUND","requireStack":["/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/versioning.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js","/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js","/usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js","/usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js","/usr/local/lib/node_modules/firebase-tools/lib/commands/index.js","/usr/local/lib/node_modules/firebase-tools/lib/index.js","/usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js","/usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js"]}
[debug] [2026-02-12T02:33:59.877Z] checkFunctionsSDKVersion encountered error: Invalid Version:  {}
[debug] [2026-02-12T02:33:59.878Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "24"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^13.6.0",
    "firebase-functions": "^7.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.4.1"
  },
  "private": true
}
[debug] [2026-02-12T02:33:59.878Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2026-02-12T02:33:59.878Z] Could not parse firebase-functions version '' into semver.
[debug] [2026-02-12T02:33:59.879Z] Could not find functions.yaml. Must use http discovery
[debug] [2026-02-12T02:34:00.304Z] Error: Cannot find module 'firebase-functions'
Require stack:
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js
- /usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1421:15)
    at require.resolve (node:internal/modules/helpers:163:19)
    at Delegate.findFunctionsBinary (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:101:33)
    at Delegate.spawnFunctionsProcess (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:131:30)
    at Delegate.serveAdmin (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:152:35)
    at Delegate.discoverBuild (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:192:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async loadCodebases (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js:331:33)
    at async prepare (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js:69:24)
    at async chain (/usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js:43:9)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2026-02-12T02:34:49.017Z] ----------------------------------------------------------------------
[debug] [2026-02-12T02:34:49.019Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy --only functions
[debug] [2026-02-12T02:34:49.019Z] CLI Version:   15.5.1
[debug] [2026-02-12T02:34:49.019Z] Platform:      darwin
[debug] [2026-02-12T02:34:49.019Z] Node Version:  v24.13.0
[debug] [2026-02-12T02:34:49.019Z] Time:          Wed Feb 11 2026 20:34:49 GMT-0600 (Central Standard Time)
[debug] [2026-02-12T02:34:49.019Z] ----------------------------------------------------------------------
[debug] 
[debug] [2026-02-12T02:34:49.702Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2026-02-12T02:34:49.702Z] > authorizing via signed-in user (tglewis247@gmail.com)
[debug] [2026-02-12T02:34:49.702Z] [iam] checking project kin-9d03d for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2026-02-12T02:34:49.702Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:34:49.702Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:34:49.703Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions [none]
[debug] [2026-02-12T02:34:49.703Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions  x-goog-user-project=kin-9d03d
[debug] [2026-02-12T02:34:49.703Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-02-12T02:34:49.960Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions 200
[debug] [2026-02-12T02:34:49.960Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2026-02-12T02:34:49.960Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:34:49.960Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:34:49.960Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2026-02-12T02:34:49.960Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2026-02-12T02:34:50.288Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions 404
[debug] [2026-02-12T02:34:50.289Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions {"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}}
[debug] [2026-02-12T02:34:50.289Z] [functions] service account IAM check errored, deploy may fail: Request to https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions had HTTP Error: 404, Unknown service account {"name":"FirebaseError","children":[],"context":{"body":{"error":{"code":404,"message":"Unknown service account","status":"NOT_FOUND"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://iam.googleapis.com/v1/projects/kin-9d03d/serviceAccounts/kin-9d03d@appspot.gserviceaccount.com:testIamPermissions had HTTP Error: 404, Unknown service account","status":404}
[info] 
[info] === Deploying to 'kin-9d03d'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[debug] [2026-02-12T02:34:51.335Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:34:51.335Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:34:51.335Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d [none]
[debug] [2026-02-12T02:34:51.450Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d 200
[debug] [2026-02-12T02:34:51.450Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/kin-9d03d {"projectNumber":"462828528225","projectId":"kin-9d03d","lifecycleState":"ACTIVE","name":"KinBoard","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2026-01-28T17:47:33.256880Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2026-02-12T02:34:51.451Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:34:51.451Z] Checked if tokens are valid: true, expires at: 1770866249149
[debug] [2026-02-12T02:34:51.451Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig [none]
[debug] [2026-02-12T02:34:51.852Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig 200
[debug] [2026-02-12T02:34:51.852Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/kin-9d03d/adminSdkConfig {"projectId":"kin-9d03d","storageBucket":"kin-9d03d.firebasestorage.app"}
[debug] [2026-02-12T02:34:51.854Z] Validating nodejs source
[warn] ⚠  functions: Couldn't find firebase-functions package in your source code. Have you run 'npm install'? 
[debug] [2026-02-12T02:34:51.856Z] getFunctionsSDKVersion encountered error: Cannot find module 'firebase-functions'
Require stack:
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/versioning.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js
- /usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js {"code":"MODULE_NOT_FOUND","requireStack":["/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/versioning.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js","/usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js","/usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js","/usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js","/usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js","/usr/local/lib/node_modules/firebase-tools/lib/commands/index.js","/usr/local/lib/node_modules/firebase-tools/lib/index.js","/usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js","/usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js"]}
[debug] [2026-02-12T02:34:51.857Z] checkFunctionsSDKVersion encountered error: Invalid Version:  {}
[debug] [2026-02-12T02:34:51.857Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "24"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^13.6.0",
    "firebase-functions": "^7.0.0"
  },
  "devDependencies": {
    "eslint": "^8.15.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^3.4.1"
  },
  "private": true
}
[debug] [2026-02-12T02:34:51.857Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2026-02-12T02:34:51.858Z] Could not parse firebase-functions version '' into semver.
[debug] [2026-02-12T02:34:51.859Z] Could not find functions.yaml. Must use http discovery
[debug] [2026-02-12T02:34:52.029Z] Error: Cannot find module 'firebase-functions'
Require stack:
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorShared.js
- /usr/local/lib/node_modules/firebase-tools/lib/frameworks/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/prepare.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/hosting/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/deploy.js
- /usr/local/lib/node_modules/firebase-tools/lib/commands/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/index.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/cli.js
- /usr/local/lib/node_modules/firebase-tools/lib/bin/firebase.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1421:15)
    at require.resolve (node:internal/modules/helpers:163:19)
    at Delegate.findFunctionsBinary (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:101:33)
    at Delegate.spawnFunctionsProcess (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:131:30)
    at Delegate.serveAdmin (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:152:35)
    at Delegate.discoverBuild (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/runtimes/node/index.js:192:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async loadCodebases (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js:331:33)
    at async prepare (/usr/local/lib/node_modules/firebase-tools/lib/deploy/functions/prepare.js:69:24)
    at async chain (/usr/local/lib/node_modules/firebase-tools/lib/deploy/index.js:43:9)
[error] 
[error] Error: An unexpected error has occurred.
